!< FURY definition of units symbols of *International System of Units*.
module fury_units_si
!-----------------------------------------------------------------------------------------------------------------------------------
!< FURY definition of units symbols of *International System of Units*.
!-----------------------------------------------------------------------------------------------------------------------------------
use fury_unit_metre
use penf
use stringifor
!-----------------------------------------------------------------------------------------------------------------------------------

!-----------------------------------------------------------------------------------------------------------------------------------
implicit none
private
public :: initialize
public :: metre
!-----------------------------------------------------------------------------------------------------------------------------------

!-----------------------------------------------------------------------------------------------------------------------------------
logical                     :: initialized=.false. !< Flag to check is units definitions are initialized.
type(unit_metre), protected :: metre               !< The metre unit instance.
!-----------------------------------------------------------------------------------------------------------------------------------
contains
  subroutine initialize(error)
  !---------------------------------------------------------------------------------------------------------------------------------
  !< Initialize units definition.
  !<
  !< @todo Load from file.
  !---------------------------------------------------------------------------------------------------------------------------------
  integer(I_P), intent(out), optional :: error  !< Initializing error code, 0 => no errors happen.
  integer(I_P)                        :: error_ !< Initializing error code, 0 => no errors happen, local variable.
  !---------------------------------------------------------------------------------------------------------------------------------

  !---------------------------------------------------------------------------------------------------------------------------------
  error_ = 0
  if (.not.initialized) then
    call metre%initialize(error=error_)
  endif
  initialized = .true.
  if (present(error)) error = error_
  !---------------------------------------------------------------------------------------------------------------------------------
  endsubroutine initialize
endmodule fury_units_si
